(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{13:function(e,t,c){e.exports={link:"Navigation_link__3wyCh",activeLink:"Navigation_activeLink__1rP44"}},25:function(e,t,c){},26:function(e,t,c){},34:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),a=c(18),i=c.n(a),s=(c(25),c(2)),o=(c(26),c(5)),j=c(13),u=c.n(j),b=c(0),h=function(){return Object(b.jsxs)("nav",{children:[Object(b.jsx)(o.c,{exact:!0,to:"/",className:u.a.link,activeClassName:u.a.activeLink,children:"Home"}),Object(b.jsx)(o.c,{to:"/movies",className:u.a.link,activeClassName:u.a.activeLink,children:"Movies"})]})},l=c(8),f=c(9),d=c.n(f),p=c(11),x="47608d5961c2a225a6bc2492b5fa7a6d";function O(){return(O=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/trending/all/day?api_key=".concat(x));case 2:if(!(t=e.sent).ok){e.next=9;break}return e.next=6,t.json();case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=Promise.reject(new Error("\u041d\u0435\u0442 \u043f\u043e\u043a\u0435\u043c\u043e\u043d\u0430 \u0441 \u0438\u043c\u0435\u043d\u0435\u043c"));case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(m=Object(p.a)(d.a.mark((function e(t){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/search/keyword?api_key=".concat(x,"&query=").concat(t));case 2:if(!(c=e.sent).ok){e.next=9;break}return e.next=6,c.json();case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=Promise.reject(new Error("\u041d\u0435\u0442 \u0442\u0430\u043a\u043e\u0433\u043e \u0444\u0438\u043b\u044c\u043c\u0430"));case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=Object(p.a)(d.a.mark((function e(t){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(x));case 2:if(!(c=e.sent).ok){e.next=9;break}return e.next=6,c.json();case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=Promise.reject(new Error("\u041d\u0435\u0442 \u0442\u0430\u043a\u043e\u0433\u043e \u0444\u0438\u043b\u044c\u043c\u0430"));case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=Object(p.a)(d.a.mark((function e(t){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=").concat(x));case 2:if(!(c=e.sent).ok){e.next=9;break}return e.next=6,c.json();case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=Promise.reject(new Error("\u041d\u0435\u0442 \u0442\u0430\u043a\u043e\u0433\u043e \u0444\u0438\u043b\u044c\u043c\u0430"));case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(p.a)(d.a.mark((function e(t){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(t,"/reviews?api_key=").concat(x));case 2:if(!(c=e.sent).ok){e.next=9;break}return e.next=6,c.json();case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=Promise.reject(new Error("\u041d\u0435\u0442 \u0442\u0430\u043a\u043e\u0433\u043e \u0444\u0438\u043b\u044c\u043c\u0430"));case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w={fetchMovie:function(){return O.apply(this,arguments)},fetchCast:function(e){return g.apply(this,arguments)},fetchMovieByName:function(e){return m.apply(this,arguments)},fetchMovieById:function(e){return v.apply(this,arguments)},fetchReview:function(e){return k.apply(this,arguments)}},y=w;function _(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),c=t[0],r=t[1],a=Object(s.g)().url;return Object(n.useEffect)((function(){c!==[]&&y.fetchMovie().then((function(e){return r(e.results)}))}),[]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{children:"HOMEPAGE"}),Object(b.jsx)("ul",{children:c.map((function(e){return void 0!==e.name?Object(b.jsx)("li",{children:Object(b.jsx)(o.b,{to:"".concat(a,"/").concat(e.id),children:e.name})},e.id):Object(b.jsx)("li",{children:Object(b.jsx)(o.b,{to:"/movies/".concat(e.id),children:e.title})},e.id)}))})]})}function E(e){var t=e.onSubmit;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("form",{onSubmit:t,name:"search",children:[Object(b.jsx)("input",{type:"text",name:"serch",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u043c\u0430",title:"\u0412\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u043c\u0430",autoComplete:"off"}),Object(b.jsx)("button",{type:"submit",children:"Search"})]})})}function I(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)([]),i=Object(l.a)(a,2),j=i[0],u=i[1],h=Object(s.g)().url;Object(n.useEffect)((function(){""!==c&&(console.log("effext"),""!==c&&(y.fetchMovieByName(c).then((function(e){return u(e.results)})),console.log(c)))}),[c]);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{children:"MoviesPage"}),Object(b.jsx)(E,{onSubmit:function(e){var t=e.target[0].value;e.preventDefault(),""!==t.trim()?(r(t),e.target[0].value=""):alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430 \u0444\u0438\u043b\u044c\u043c\u0430")}}),Object(b.jsx)("ul",{children:j&&j.map((function(e){return Object(b.jsx)("li",{children:Object(b.jsx)(o.b,{to:"".concat(h,"/").concat(e.id),children:e.name})},e.id)}))})]})}function S(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("h1",{children:"404 Not Found"})})}function M(){var e=Object(s.f)().filmId,t=Object(n.useState)(null),c=Object(l.a)(t,2),r=c[0],a=c[1];return Object(n.useEffect)((function(){y.fetchCast(e).then((function(e){return a(e.cast)}))}),[]),console.log(r),Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("ul",{children:r&&r.map((function(e){return Object(b.jsxs)("li",{children:[Object(b.jsx)("p",{children:e.name}),Object(b.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(e.profile_path),width:"100"})]},e.id)}))})})}function N(){var e=Object(s.f)().filmId,t=Object(n.useState)([]),c=Object(l.a)(t,2),r=c[0],a=c[1];return Object(n.useEffect)((function(){y.fetchReview(e).then((function(e){return a(e.results)}))}),[]),console.log(r),0===r.length?Object(b.jsx)("p",{children:"There no reviews"}):Object(b.jsx)("ul",{children:r.map((function(e){return Object(b.jsxs)("li",{children:[Object(b.jsx)("h4",{children:e.author}),Object(b.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(e.author_details.avatar_path)}),Object(b.jsx)("p",{children:e.content})]},e.id)}))})}function P(){var e=Object(s.f)().filmId,t=Object(n.useState)(null),c=Object(l.a)(t,2),r=c[0],a=c[1],i=Object(s.g)().url;return Object(n.useEffect)((function(){y.fetchMovieById(e).then(a)}),[]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{children:"Go home"}),r&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{children:r.title}),Object(b.jsx)("img",{width:"200",alt:"Poster",src:"https://image.tmdb.org/t/p/w500/".concat(r.poster_path)}),Object(b.jsx)("p",{children:r.overview})]}),Object(b.jsx)("hr",{}),Object(b.jsx)(o.b,{to:"".concat(i,"/cast"),children:"Cast"}),Object(b.jsx)("br",{}),Object(b.jsx)(o.b,{to:"".concat(i,"/review"),children:"Review"}),Object(b.jsx)(s.a,{path:"/movies/:filmId/cast",children:Object(b.jsx)(M,{filmId:e})}),Object(b.jsx)(s.a,{path:"/movies/:filmId/review",children:Object(b.jsx)(N,{filmId:e})})]})}var F=function(){return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)("header",{children:Object(b.jsx)(h,{})}),Object(b.jsxs)(s.c,{children:[Object(b.jsx)(s.a,{exact:!0,path:"/",children:Object(b.jsx)(_,{})}),Object(b.jsx)(s.a,{exact:!0,path:"/movies",children:Object(b.jsx)(I,{})}),Object(b.jsx)(s.a,{path:"/movies/:filmId",children:Object(b.jsx)(P,{})}),Object(b.jsx)(s.a,{children:Object(b.jsx)(S,{})})]})]})};i.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(o.a,{children:Object(b.jsx)(F,{})})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.e3c7cd78.chunk.js.map