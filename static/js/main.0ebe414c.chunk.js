(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{12:function(e,t,n){e.exports={link:"Navigation_link__3wyCh",activeLink:"Navigation_activeLink__1rP44"}},25:function(e,t,n){},26:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(18),i=n.n(a),s=(n(25),n(2)),o=(n(26),n(7)),j=n(12),u=n.n(j),b=n(0),l=function(){return Object(b.jsxs)("nav",{children:[Object(b.jsx)(o.c,{exact:!0,to:"/",className:u.a.link,activeClassName:u.a.activeLink,children:"Home"}),Object(b.jsx)(o.c,{to:"/movies",className:u.a.link,activeClassName:u.a.activeLink,children:"Movies"})]})},h=n(8),f=n(10),x=n.n(f),d=n(13),O="47608d5961c2a225a6bc2492b5fa7a6d";function p(){return(p=Object(d.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/trending/all/day?api_key=".concat(O));case 2:if(!(t=e.sent).ok){e.next=9;break}return e.next=6,t.json();case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=Promise.reject(new Error("\u041d\u0435\u0442 \u043f\u043e\u043a\u0435\u043c\u043e\u043d\u0430 \u0441 \u0438\u043c\u0435\u043d\u0435\u043c"));case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(m=Object(d.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/search/keyword?api_key=".concat(O,"&query=").concat(t));case 2:if(!(n=e.sent).ok){e.next=9;break}return e.next=6,n.json();case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=Promise.reject(new Error("\u041d\u0435\u0442 \u0442\u0430\u043a\u043e\u0433\u043e \u0444\u0438\u043b\u044c\u043c\u0430"));case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=Object(d.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(O));case 2:if(!(n=e.sent).ok){e.next=9;break}return e.next=6,n.json();case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=Promise.reject(new Error("\u041d\u0435\u0442 \u0442\u0430\u043a\u043e\u0433\u043e \u0444\u0438\u043b\u044c\u043c\u0430"));case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k={fetchMovie:function(){return p.apply(this,arguments)},fetchMovieByName:function(e){return m.apply(this,arguments)},fetchMovieById:function(e){return v.apply(this,arguments)}},g=k;function y(){var e=Object(c.useState)([]),t=Object(h.a)(e,2),n=t[0],r=t[1],a=Object(s.g)().url;return Object(c.useEffect)((function(){console.log("effext"),n!==[]&&(g.fetchMovie().then((function(e){return r(e.results)})),console.log(n))}),[]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{children:"HOMEPAGE"}),Object(b.jsx)("ul",{children:n.map((function(e){return void 0!==e.name?Object(b.jsx)("li",{children:Object(b.jsx)(o.b,{to:"".concat(a,"/").concat(e.id),children:e.name})},e.id):Object(b.jsx)("li",{children:Object(b.jsx)(o.b,{to:"/movies/".concat(e.id),children:e.title})},e.id)}))})]})}function w(e){var t=e.onSubmit;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("form",{onSubmit:t,name:"search",children:[Object(b.jsx)("input",{type:"text",name:"serch",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u043c\u0430",title:"\u0412\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u043c\u0430",autoComplete:"off"}),Object(b.jsx)("button",{type:"submit",children:"Search"})]})})}function M(){var e=Object(c.useState)(""),t=Object(h.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),i=Object(h.a)(a,2),j=i[0],u=i[1],l=Object(s.g)().url;Object(c.useEffect)((function(){""!==n&&(console.log("effext"),""!==n&&(g.fetchMovieByName(n).then((function(e){return u(e.results)})),console.log(n)))}),[n]);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{children:"MoviesPage"}),Object(b.jsx)(w,{onSubmit:function(e){var t=e.target[0].value;e.preventDefault(),""!==t.trim()?(r(t),e.target[0].value=""):alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430 \u0444\u0438\u043b\u044c\u043c\u0430")}}),Object(b.jsx)("ul",{children:j&&j.map((function(e){return Object(b.jsx)("li",{children:Object(b.jsx)(o.b,{to:"".concat(l,"/").concat(e.id),children:e.name})},e.id)}))})]})}function N(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("h1",{children:"404 Not Found"})})}function _(){var e=Object(s.f)().filmId,t=Object(c.useState)(null),n=Object(h.a)(t,2),r=n[0],a=n[1];return Object(c.useEffect)((function(){g.fetchMovieById(e).then(a)}),[]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{children:e}),r&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{children:r.title}),Object(b.jsx)("img",{src:r.poster_path})]})]})}var E=function(){return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)("header",{children:Object(b.jsx)(l,{})}),Object(b.jsxs)(s.c,{children:[Object(b.jsx)(s.a,{exact:!0,path:"/",children:Object(b.jsx)(y,{})}),Object(b.jsx)(s.a,{exact:!0,path:"/movies",children:Object(b.jsx)(M,{})}),Object(b.jsx)(s.a,{path:"/movies/:filmId",children:Object(b.jsx)(_,{})}),Object(b.jsx)(s.a,{children:Object(b.jsx)(N,{})})]})]})};i.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(o.a,{children:Object(b.jsx)(E,{})})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.0ebe414c.chunk.js.map