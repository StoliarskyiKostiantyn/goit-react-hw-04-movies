{"version":3,"sources":["Components/Navigation/Navigation.module.css","Components/Navigation/Navigation.js","services/fetchMovies.js","Components/Pages/HomePage/HomePage.js","Components/SearchForm/SearchForm.js","Components/Pages/MoviesPage/MoviesPage.js","Components/Pages/NotFound/NotFound.js","Components/Pages/MoviesPage/MovieDetailsPage/MovieDetailsPage.js","App.js","index.js"],"names":["module","exports","Navigation","exact","to","className","s","link","activeClassName","activeLink","API_KEY","a","fetch","response","ok","json","Promise","reject","Error","movieName","filmId","api","fetchMovie","fetchMovieByName","fetchMovieById","HomePage","useState","filmList","setFilmList","url","useRouteMatch","useEffect","console","log","then","data","results","map","item","undefined","name","id","title","SearchForm","onSubmit","type","placeholder","autoComplete","MoviesPage","filmName","setFilmName","filmListByName","setFilmListByName","evt","inputValue","target","value","preventDefault","trim","alert","film","NotFound","MovieDetailsPage","useParams","setFilm","src","poster_path","App","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0ebe414c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Navigation_link__3wyCh\",\"activeLink\":\"Navigation_activeLink__1rP44\"};","import { NavLink } from 'react-router-dom';\r\nimport s from '../Navigation/Navigation.module.css';\r\n\r\nconst Navigation = () => {\r\n  return (\r\n    <nav>\r\n      <NavLink\r\n        exact\r\n        to=\"/\"\r\n        className={s.link}\r\n        activeClassName={s.activeLink}\r\n      >\r\n        Home\r\n      </NavLink>\r\n      <NavLink\r\n        to=\"/movies\"\r\n        className={s.link}\r\n        activeClassName={s.activeLink}\r\n      >\r\n        Movies\r\n      </NavLink>\r\n    </nav>\r\n  );\r\n};\r\nexport default Navigation;\r\n","const API_KEY = '47608d5961c2a225a6bc2492b5fa7a6d';\r\nasync function fetchMovie() {\r\n  const response = await fetch(\r\n    `https://api.themoviedb.org/3/trending/all/day?api_key=${API_KEY}`,\r\n  );\r\n  return response.ok\r\n    ? await response.json()\r\n    : Promise.reject(new Error(`Нет покемона с именем`));\r\n}\r\nasync function fetchMovieByName(movieName) {\r\n  const response = await fetch(\r\n    `https://api.themoviedb.org/3/search/keyword?api_key=${API_KEY}&query=${movieName}`,\r\n  );\r\n  return response.ok\r\n    ? await response.json()\r\n    : Promise.reject(new Error(`Нет такого фильма`));\r\n}\r\nasync function fetchMovieById(filmId) {\r\n  const response = await fetch(\r\n    `https://api.themoviedb.org/3/movie/${filmId}?api_key=${API_KEY}`,\r\n  );\r\n  return response.ok\r\n    ? await response.json()\r\n    : Promise.reject(new Error(`Нет такого фильма`));\r\n}\r\nconst api = {\r\n  fetchMovie,\r\n  fetchMovieByName,\r\n  fetchMovieById,\r\n};\r\n\r\nexport default api;\r\n","import { useState, useEffect } from 'react';\r\nimport api from '../../../services/fetchMovies';\r\nimport { Link, useRouteMatch } from 'react-router-dom';\r\n\r\nexport default function HomePage() {\r\n  const [filmList, setFilmList] = useState([]);\r\n  const { url } = useRouteMatch();\r\n  useEffect(() => {\r\n    console.log('effext');\r\n    if (filmList !== []) {\r\n      api\r\n        .fetchMovie()\r\n        .then(data => setFilmList(data.results));\r\n      console.log(filmList);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <h1>HOMEPAGE</h1>\r\n      <ul>\r\n        {filmList.map(item => {\r\n          if (item.name !== undefined) {\r\n            return (\r\n              <li key={item.id}>\r\n                <Link to={`${url}/${item.id}`}>\r\n                  {item.name}\r\n                </Link>\r\n              </li>\r\n            );\r\n          } else {\r\n            return (\r\n              <li key={item.id}>\r\n                <Link to={`/movies/${item.id}`}>\r\n                  {item.title}\r\n                </Link>\r\n              </li>\r\n            );\r\n          }\r\n        })}\r\n      </ul>\r\n    </>\r\n  );\r\n}\r\n","export default function SearchForm({ onSubmit }) {\r\n  return (\r\n    <>\r\n      <form onSubmit={onSubmit} name=\"search\">\r\n        <input\r\n          type=\"text\"\r\n          name=\"serch\"\r\n          placeholder=\"Введите название фильма\"\r\n          title=\"Ведите название фильма\"\r\n          autoComplete=\"off\"\r\n        />\r\n        <button type=\"submit\">Search</button>\r\n      </form>\r\n    </>\r\n  );\r\n}\r\n","import SearchForm from '../../SearchForm/SearchForm';\r\nimport { Link, useRouteMatch } from 'react-router-dom';\r\nimport { useState, useEffect } from 'react';\r\nimport api from '../../../services/fetchMovies';\r\nexport default function MoviesPage() {\r\n  const [filmName, setFilmName] = useState('');\r\n  const [filmListByName, setFilmListByName] = useState([]);\r\n  const { url } = useRouteMatch();\r\n  useEffect(() => {\r\n    if (filmName === '') {\r\n      return;\r\n    } else {\r\n      console.log('effext');\r\n      if (filmName !== '') {\r\n        api\r\n          .fetchMovieByName(filmName)\r\n          .then(data => setFilmListByName(data.results));\r\n        console.log(filmName);\r\n      }\r\n    }\r\n  }, [filmName]);\r\n  const handleSubmit = evt => {\r\n    const inputValue = evt.target[0].value;\r\n    evt.preventDefault();\r\n    if (inputValue.trim() === '') {\r\n      alert('Введите ключевое слово для поиска фильма');\r\n      return;\r\n    }\r\n    setFilmName(inputValue);\r\n    evt.target[0].value = '';\r\n  };\r\n  return (\r\n    <>\r\n      <h1>MoviesPage</h1>\r\n      <SearchForm onSubmit={handleSubmit} />\r\n      <ul>\r\n        {filmListByName &&\r\n          filmListByName.map(film => (\r\n            <li key={film.id}>\r\n              <Link to={`${url}/${film.id}`}>\r\n                {film.name}\r\n              </Link>\r\n            </li>\r\n          ))}\r\n      </ul>\r\n    </>\r\n  );\r\n}\r\n","export default function NotFound() {\r\n  return (\r\n    <>\r\n      <h1>404 Not Found</h1>\r\n    </>\r\n  );\r\n}\r\n","import { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router';\r\nimport api from '../../../../services/fetchMovies';\r\nexport default function MovieDetailsPage() {\r\n  const { filmId } = useParams();\r\n  const [film, setFilm] = useState(null);\r\n  useEffect(() => {\r\n    api.fetchMovieById(filmId).then(setFilm);\r\n  }, []);\r\n  return (\r\n    <>\r\n      <h1>{filmId}</h1>\r\n      {film && (\r\n        <>\r\n          <h1>{film.title}</h1>\r\n          <img src={film.poster_path} />\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import { Switch, Route } from 'react-router';\nimport './App.css';\nimport Navigation from './Components/Navigation/Navigation';\nimport HomePage from './Components/Pages/HomePage/HomePage';\nimport MoviesPage from './Components/Pages/MoviesPage/MoviesPage';\nimport NotFound from './Components/Pages/NotFound/NotFound';\nimport MovieDetailsPage from './Components/Pages/MoviesPage/MovieDetailsPage/MovieDetailsPage';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header>\n        <Navigation />\n      </header>\n      <Switch>\n        <Route exact path=\"/\">\n          <HomePage />\n        </Route>\n        <Route exact path=\"/movies\">\n          <MoviesPage />\n        </Route>\n        <Route path=\"/movies/:filmId\">\n          <MovieDetailsPage />\n        </Route>\n        <Route>\n          <NotFound />\n        </Route>\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}